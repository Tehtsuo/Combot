<?xml version="1.0" encoding="UTF-8"?>
<ISUI>

<!--

ComBot  Copyright © 2012  Tehtsuo and Vendan

This file is part of ComBot.

ComBot is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ComBot is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ComBot.  If not, see <http://www.gnu.org/licenses/>.

-->

	<template name='Information.Font'>	
		<Name>Terminal</Name>
		<Size>8</Size>
		<Color>FFFFFFFF</Color>
	</template>	

	<window name='ComBot_Hauler'>
		<Visible>1</Visible>
		<BackGroundColor></BackGroundColor>
		<Border>0</Border>
		<X>200</X>
		<Y>300</Y>
		<Width>800</Width>
		<Height>600</Height>
		<TitleBar>
			<Width>100%</Width>
			<Height>20</Height>
			<Border>0</Border>
			<BackgroundColor>FF000000</BackgroundColor>
			<Children>
				<Text name='ComBot_Hauler_TitleBar_Title'>
					<X>0</X>
					<Y>3</Y>
					<Width>100%</Width>
					<Height>20</Height>
					<Alignment>Center</Alignment>
					<Text>Hauler Configuration</Text>
				</Text>
				<button	Name='Close'>
					<X>r40</X>
					<Y>0</Y>
					<Width>40</Width>
					<Height>20</Height>
					<Text>Close</Text>
					<OnLeftClick>
						ui -unload "&filepath;/Hauler"
					</OnLeftClick>
				</button>
			</Children>
		</TitleBar>
		<Children name="ComBot_Hauler_Children">
			<Frame name="ComBot_Hauler_Frame">
				<X>0</X>
				<Y>5</Y>
				<Width>100%</Width>
				<Height>100%</Height>
				<BackgroundColor>FF000000</BackgroundColor>
				<Border>1</Border>
				<BorderColor>FFFFFFFF</BorderColor>
				<Children name="ComBot_Hauler_Frame_Children">
					<Text name='obj_HaulerInformation'> 
						<Font template='Information.Font' />
						<X>1%</X> 
						<Y>1%</Y> 
						<Width>98%</Width> 
						<Height>18%</Height> 
						<Wrap />
						<Text>ComBot's Hauler mode offers both simplicity and versatility.  It provides dropoff service to Station Hangar, Station Corporation Hangar, and even Player Owned Station structures.  It can pick up cargo from an Orca, a Jetcan, Player Owned Station structure, Personal Hangar, or Corporation Hangar.  Keep in mind, to move cargo from one Player Owned Station structure to another, they must have unique names.  If your source and destination containers are the same name, it will simply pick up cargo and immediately drop it back off!  Unfortunately, folder selection for picking up Corporation Hangar cargo is not available at this time.  As you can select hangars and containers for both source and destination, the hauler can be used as a simple freight module, however it does not have any utility to determine if a source has cargo to haul, so it will keep traveling between source and destination even after all the cargo is hauled.</Text>
					</Text>						 
					<Text name='obj_Hauler_JetcanModeTitle'> 
						<X>69%</X> 
						<Y>60%</Y> 
						<Width>30%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Jetcan Pickup Mode</Text>
					</Text>						 
					<ComboBox name='obj_Hauler_JetcanMode'> 
						<X>69%</X> 
						<Y>62%</Y> 
						<Width>30%</Width> 
						<Height>3%</Height> 
						<Items>
							<Item Default="1">Service Fleet</Item>
						</Items>
						<OnLoad>
							This.ItemByText[${Script[ComBot].VariableScope.Config.Hauler.JetCanMode}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Hauler:SetJetCanMode[${This.SelectedItem.Text}]
						</OnSelect>
					</ComboBox>						 

					<Text name='obj_Hauler_ThresholdTitle'> 
						<X>69%</X> 
						<Y>70%</Y> 
						<Width>30%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<OnLoad>
							This:SetText[Cargo Threshold: ${Script[ComBot].VariableScope.Config.Hauler.Threshold}% = ${Math.Calc[${Script[ComBot].VariableScope.Config.Hauler.Threshold} * .01 * ${MyShip.CargoCapacity}].Round} m3]
						</OnLoad>
					</Text>						 
					<Slider name='obj_Hauler_Threshold'> 
						<X>69%</X> 
						<Y>72%</Y> 
						<Width>30%</Width> 
						<Height>5%</Height> 
						<Border>1</Border>
						<OnLoad>
							This:SetRange[100]
							This:SetValue[${Script[ComBot].VariableScope.Config.Hauler.Threshold}]
						</OnLoad>
						<OnChange>
							Script[ComBot].VariableScope.Config.Hauler:SetThreshold[${This.Value}]
							UIElement[obj_Hauler_ThresholdTitle@ComBot_Hauler_Frame@ComBot_Hauler]:SetText[Cargo Threshold: ${Script[ComBot].VariableScope.Config.Hauler.Threshold}% = ${Math.Calc[${Script[ComBot].VariableScope.Config.Hauler.Threshold} * .01 * ${MyShip.CargoCapacity}].Round} m3]
						</OnChange>
					</Slider>						 
					
					<Text name='obj_HaulerDropoffBookmarkTitle'> 
						<X>1%</X> 
						<Y>28%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Dropoff Bookmark</Text>
					</Text>
					<listbox Name="obj_HaulerDropoffBookmark">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>1%</X>
						<Y>30%</Y>
						<Width>36%</Width>
						<Height>20%</Height>
						<OnLoad>
							variable index:bookmark Bookmarks
							variable iterator BookmarkIterator

							EVE:GetBookmarks[Bookmarks]
							Bookmarks:GetIterator[BookmarkIterator]

							if ${BookmarkIterator:First(exists)}
								do
								{	
									This:AddItem[${BookmarkIterator.Value.Label}]
								}
								while ${BookmarkIterator:Next(exists)}
							This.ItemByText[${Script[ComBot].VariableScope.Config.Hauler.Dropoff_Bookmark}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Hauler:SetDropoff_Bookmark[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					<Text name='obj_Hauler_Dropoff_ContainerNameTitle'> 
						<X>1%</X> 
						<Y>51%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Container Name</Text>
					</Text>
					<TextEntry name='obj_Hauler_Dropoff_ContainerName'> 
						<X>1%</X> 
						<Y>53%</Y> 
						<Width>36%</Width> 
						<Height>3%</Height> 
						<OnLoad>
							This:SetText[${Script[ComBot].VariableScope.Config.Hauler.Dropoff_ContainerName}]
						</OnLoad>
						<OnChange>
							Script[ComBot].VariableScope.Config.Hauler:SetDropoff_ContainerName[${This.Text}]
						</OnChange>
					</TextEntry>

					<Text name='obj_Hauler_Dropoff_Type_Title'> 
						<X>38%</X> 
						<Y>28%</Y> 
						<Width>20%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Dropoff Type</Text>
					</Text>
					<listbox Name="obj_Hauler_Dropoff_Type">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>38%</X>
						<Y>30%</Y>
						<Width>30%</Width>
						<Height>26%</Height>
						<Items>
							<Item>Personal Hangar</Item>
							<Item>Container</Item>
							<Item>Corporation Folder 1</Item>
							<Item>Corporation Folder 2</Item>
							<Item>Corporation Folder 3</Item>
							<Item>Corporation Folder 4</Item>
							<Item>Corporation Folder 5</Item>
							<Item>Corporation Folder 6</Item>
							<Item>Corporation Folder 7</Item>
						</Items>
						<OnLoad>
							This.ItemByText[${Script[ComBot].VariableScope.Config.Hauler.Dropoff_Type}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Hauler:SetDropoff_Type[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					
					<Text name='obj_HaulerPickupBookmarkTitle'> 
						<X>1%</X> 
						<Y>60%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Pickup Bookmark</Text>
					</Text>
					<listbox Name="obj_HaulerPickupBookmark">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>1%</X> 
						<Y>62%</Y> 
						<Width>36%</Width> 
						<Height>20%</Height> 
						<OnLoad>
							variable index:bookmark Bookmarks
							variable iterator BookmarkIterator

							EVE:GetBookmarks[Bookmarks]
							Bookmarks:GetIterator[BookmarkIterator]

							if ${BookmarkIterator:First(exists)}
								do
								{	
									This:AddItem[${BookmarkIterator.Value.Label}]
								}
								while ${BookmarkIterator:Next(exists)}
							This.ItemByText[${Script[ComBot].VariableScope.Config.Hauler.Pickup_Bookmark}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Hauler:SetPickup_Bookmark[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					<Text name='obj_Hauler_Pickup_ContainerNameTitle'> 
						<X>1%</X> 
						<Y>83%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Orca/Container Name</Text>
					</Text>
					<TextEntry name='obj_Hauler_Pickup_ContainerName'> 
						<X>1%</X> 
						<Y>85%</Y> 
						<Width>36%</Width> 
						<Height>3%</Height> 
						<OnLoad>
							This:SetText[${Script[ComBot].VariableScope.Config.Hauler.Pickup_ContainerName}]
						</OnLoad>
						<OnChange>
							Script[ComBot].VariableScope.Config.Hauler:SetPickup_ContainerName[${This.Text}]
						</OnChange>
					</TextEntry>

					<Text name='obj_Hauler_Pickup_Type_Title'> 
						<X>38%</X> 
						<Y>60%</Y> 
						<Width>20%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Pickup Type</Text>
					</Text>
					<listbox Name="obj_Hauler_Pickup_Type">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>38%</X>
						<Y>62%</Y>
						<Width>30%</Width>
						<Height>26%</Height>
						<Items>
							<Item>Orca</Item>
							<Item>Jetcan</Item>
							<Item>Container</Item>
							<Item>Personal Hangar</Item>
							<Item>Corporation Hangar</Item>
						</Items>
						<OnLoad>
							This.ItemByText[${Script[ComBot].VariableScope.Config.Hauler.Pickup_Type}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Hauler:SetPickup_Type[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>

				</Children>
			</Frame>
		</Children>
	</window>
	
</ISUI>
