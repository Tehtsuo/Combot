<?xml version="1.0" encoding="UTF-8"?>
<ISUI>

<!--

ComBot  Copyright © 2012  Tehtsuo and Vendan

This file is part of ComBot.

ComBot is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ComBot is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ComBot.  If not, see <http://www.gnu.org/licenses/>.

-->

	<template name='Information.Font'>	
		<Name>Terminal</Name>
		<Size>8</Size>
		<Color>FFFFFFFF</Color>
	</template>	
	<template name='Text.Font'>	
		<Name>Verdana</Name>
		<Size>12</Size>
		<Color>FFFFFFFF</Color>
		<Bold />
	</template>	
	<template name='Checkbox.Font'>	
		<Name>Verdana</Name>
		<Size>12</Size>
		<Color>FFFFFFFF</Color>
		<Bold />
	</template>	
	<template name='Button.Font'>	
		<Name>Verdana</Name>
		<Size>12</Size>
		<Color>FF000000</Color>
		<Bold />
	</template>	

	<window name='ComBot_Courier'>
		<Visible>1</Visible>
		<BackGroundColor></BackGroundColor>
		<Border>0</Border>
		<X>200</X>
		<Y>300</Y>
		<Width>800</Width>
		<Height>600</Height>
		<TitleBar>
			<Width>100%</Width>
			<Height>20</Height>
			<Border>0</Border>
			<BackgroundColor>FF000000</BackgroundColor>
			<Children>
				<Text name='ComBot_Courier_TitleBar_Title'>
					<X>0</X>
					<Y>3</Y>
					<Width>100%</Width>
					<Height>20</Height>
					<Alignment>Center</Alignment>
					<Text>Courier Mission Configuration</Text>
				</Text>
				<button	Name='Help'>
					<Font template='Button.Font' />
					<BackgroundColor>FF000000</BackgroundColor>
					<X>r80</X>
					<Y>0</Y>
					<Width>40</Width>
					<Height>20</Height>
					<Text>Help</Text>
					<OnLeftClick>
						timedcommand 0 "OSExecute http://combot.vendaria.net/index.php?title=Courier"
					</OnLeftClick>
				</button>
				<button	Name='Close'>
					<X>r40</X>
					<Y>0</Y>
					<Width>40</Width>
					<Height>20</Height>
					<Text>Close</Text>
					<OnLeftClick>
						ui -unload "&filepath;/Courier"
					</OnLeftClick>
				</button>
			</Children>
		</TitleBar>
		<Children name="ComBot_Courier_Children">
			<Frame name="Courier">
				<X>0</X>
				<Y>5</Y>
				<Width>100%</Width>
				<Height>100%</Height>
				<BackgroundColor>FF000000</BackgroundColor>
				<Border>1</Border>
				<BorderColor>FFFFFFFF</BorderColor>
				<Children name="ComBot_Courier_Frame_Children">
					<Text name='AgentFrameTitle'> 
						<X>1%</X> 
						<Y>2%</Y> 
						<Width>32%</Width> 
						<Height>4%</Height> 
						<Text>Agent Configuration</Text>
						<OnLoad>
							This.Font:SetColor[FFFFFF00]
						</OnLoad>
					</Text>
					<Frame name="AgentFrame">
						<X>0%</X>
						<Y>4%</Y>
						<Width>100%</Width>
						<Height>60%</Height>
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<Children>
				
							<Text name='AgentTitle'> 
								<X>1%</X> 
								<Y>1%</Y> 
								<Width>32%</Width> 
								<Height>5%</Height> 
								<Alignment>Center</Alignment>
								<Text>Agent Selection</Text>
							</Text>
							<Textentry name='Agent'> 
								<X>1%</X> 
								<Y>5%</Y> 
								<Width>32%</Width> 
								<Height>5%</Height> 
								<OnChange>
									Script[ComBot].VariableScope.Courier.LocalUI:UpdateAgentList
								</OnChange>
								<OnMouseEnter>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText["This field is used to filter the available agents displayed in the selection list below."]
								</OnMouseEnter>
								<OnMouseExit>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText[""]
								</OnMouseExit>
							</Textentry>
							<listbox Name="AgentList">
								<BackgroundColor>FF000000</BackgroundColor>
								<Border>1</Border>
								<BorderColor>FFFFFFFF</BorderColor>
								<X>1%</X>
								<Y>10%</Y>
								<Width>32%</Width>
								<Height>40%</Height>
								<OnLoad>
									Script[ComBot].VariableScope.Courier.LocalUI:BuildAgentList
									Script[ComBot].VariableScope.Courier.LocalUI:UpdateAgentList
								</OnLoad>
								<OnSelect>
									variable int64 Selected = ${Agent[${This.SelectedItem.Text}].Index}
									UIElement[AgentName@AgentFrame@Courier@ComBot_Courier]:SetText[${This.SelectedItem.Text}]
									UIElement[AgentDivision@AgentFrame@Courier@ComBot_Courier]:SetText[Division: ${Agent[${Selected}].Division}]
									UIElement[AgentLevel@AgentFrame@Courier@ComBot_Courier]:SetText[Level: ${Agent[${Selected}].Level}]
									if !${Agent[${AgentIndex}].StandingTo(exists)}
									{
										UIElement[AgentStanding@AgentFrame@Courier@ComBot_Courier]:SetText[Standing: 0]
									}
									else
									{
										UIElement[AgentStanding@AgentFrame@Courier@ComBot_Courier]:SetText[Standing: ${Agent[${Selected}].StandingTo}]
									}
									UIElement[AgentStation@AgentFrame@Courier@ComBot_Courier]:SetText[Station: ${Agent[${Selected}].Station}]
									UIElement[AgentCorp@AgentFrame@Courier@ComBot_Courier]:SetText[Corporation: ${Being[${Agent[${Selected}].CorporationID}].Name}]
									UIElement[AgentFaction@AgentFrame@Courier@ComBot_Courier]:SetText[Faction: ${Being[${Agent[${Selected}].FactionID}].Name}]
									UIElement[AgentSystem@AgentFrame@Courier@ComBot_Courier]:SetText[Solar System: ${Agent[${Selected}].Solarsystem.Name}]
									UIElement[AgentSecurity@AgentFrame@Courier@ComBot_Courier]:SetText[Security: ${Math.Calc[${Agent[${Selected}].Solarsystem.Security} * 10]}]
								</OnSelect>
								<OnMouseEnter>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText["This field is used to select agents to be added to the list of agents for which to run missions.  To add make agents available to this list, open People &amp; Places, search for the agent, and double click to start a conversation."]
								</OnMouseEnter>
								<OnMouseExit>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText[""]
								</OnMouseExit>
							</listbox>					

							<Text name='AgentName'> 
								<X>3%</X> 
								<Y>55%</Y> 
								<Width>27%</Width> 
								<Height>5%</Height> 
								<OnLoad>
									This.Font:SetColor[FF00FF00]
								</OnLoad>
							</Text>
							<Text name='AgentCorp'> 
								<X>34%</X> 
								<Y>60%</Y> 
								<Width>30%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentFaction'> 
								<X>67%</X> 
								<Y>60%</Y> 
								<Width>30%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentDivision'> 
								<X>3%</X> 
								<Y>60%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentLevel'> 
								<X>3%</X> 
								<Y>65%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentStanding'> 
								<X>3%</X> 
								<Y>70%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentStation'> 
								<X>3%</X> 
								<Y>75%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentSystem'> 
								<X>3%</X> 
								<Y>80%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Text name='AgentSecurity'> 
								<X>34%</X> 
								<Y>80%</Y> 
								<Width>50%</Width> 
								<Height>5%</Height> 
							</Text>
							<Button name='Add'> 
								<X>34%</X> 
								<Y>20%</Y> 
								<Width>32%</Width> 
								<Height>5%</Height> 
								<Text>Add</Text>
								<OnLeftClick>
									if ${UIElement[AgentList@AgentFrame@Courier@ComBot_Courier].SelectedItem(exists)}
									{
										Script[ComBot].VariableScope.Courier.Config.AgentsRef:AddSetting[${UIElement[AgentList@AgentFrame@Courier@ComBot_Courier].SelectedItem.Text},${Agent[${UIElement[AgentList@AgentFrame@Courier@ComBot_Courier].SelectedItem.Text}].Index}]										
										Script[ComBot].VariableScope.Config:Save
										Script[ComBot].VariableScope.Courier.LocalUI:BuildAgentsList
									}
								</OnLeftClick>
							</Button>
							<Button name='Remove'> 
								<X>34%</X> 
								<Y>25%</Y> 
								<Width>32%</Width> 
								<Height>5%</Height> 
								<Text>Remove</Text>
								<OnLeftClick>
									if ${UIElement[Agents@AgentFrame@Courier@ComBot_Courier].SelectedItem(exists)} != 0
									{
										Script[ComBot].VariableScope.Courier.Config.AgentsRef.FindSetting[${UIElement[Agents@AgentFrame@Courier@ComBot_Courier].SelectedItem.Text}]:Remove								
										Script[ComBot].VariableScope.Config:Save
										Script[ComBot].VariableScope.Courier.LocalUI:BuildAgentsList
									}
								</OnLeftClick>
							</Button>
							
							<listbox Name="Agents">
								<BackgroundColor>FF000000</BackgroundColor>
								<Border>1</Border>
								<BorderColor>FFFFFFFF</BorderColor>
								<X>67%</X>
								<Y>1%</Y>
								<Width>32%</Width>
								<Height>49%</Height>
								<OnLoad>
									Script[ComBot].VariableScope.Courier.LocalUI:BuildAgentsList
								</OnLoad>
								<OnMouseEnter>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText["This field contains the agents ComBot will run courier missions for."]
								</OnMouseEnter>
								<OnMouseExit>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText[""]
								</OnMouseExit>
							</listbox>					
						</Children>
					</Frame>

					<Text name='ConfigFrameTitle'> 
						<X>1%</X> 
						<Y>65%</Y> 
						<Width>32%</Width> 
						<Height>4%</Height> 
						<Text>Configuration</Text>
						<OnLoad>
							This.Font:SetColor[FFFFFF00]
						</OnLoad>
					</Text>
					<Frame name="ConfigFrame">
						<X>0%</X>
						<Y>67%</Y>
						<Width>100%</Width>
						<Height>12%</Height>
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<Children>
							<Checkbox name='AvoidLowSec'>
								<X>1%</X>
								<Y>5%</Y>
								<Width>32%</Width> 
								<Height>40%</Height> 
								<Text>Avoid Low Sec</Text>
								<OnLoad>
									if ${Script[ComBot].VariableScope.Courier.Config.AvoidLowSec}
									{
										This:SetChecked
									}
								</OnLoad>
								<OnLeftClick>
									Script[ComBot].VariableScope.Courier.Config:SetAvoidLowSec[${This.Checked}]
								</OnLeftClick>
								<OnMouseEnter>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText["When checked, ComBot will not accept missions which take you through Low Sec."]
								</OnMouseEnter>
								<OnMouseExit>
									UIElement[Information@InformationFrame@Courier@ComBot_Courier]:SetText[""]
								</OnMouseExit>
							</Checkbox>									
						</Children>
					</Frame>
					
					<Text name='InformationFrameTitle'> 
						<X>1%</X> 
						<Y>80%</Y> 
						<Width>32%</Width> 
						<Height>4%</Height> 
						<Text>Information</Text>
						<OnLoad>
							This.Font:SetColor[FFFFFF00]
						</OnLoad>
					</Text>
					<Frame name="InformationFrame">
						<X>0%</X>
						<Y>82%</Y>
						<Width>100%</Width>
						<Height>18%</Height>
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<Children>
							<Text name='Information'> 
								<X>5%</X> 
								<Y>5%</Y> 
								<Width>90%</Width> 
								<Height>90%</Height> 
								<Wrap />
								<VerticalAlignment>Center</VerticalAlignment>
							</Text>
						</Children>
					</Frame>					
				</Children>
			</Frame>
		</Children>
	</window>
	
</ISUI>
