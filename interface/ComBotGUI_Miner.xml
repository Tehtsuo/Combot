<?xml version="1.0" encoding="UTF-8"?>
<ISUI>

<!--

ComBot  Copyright © 2012  Tehtsuo and Vendan

This file is part of ComBot.

ComBot is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ComBot is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with ComBot.  If not, see <http://www.gnu.org/licenses/>.

-->

	<template name='Information.Font'>	
		<Name>Terminal</Name>
		<Size>8</Size>
		<Color>FFFFFFFF</Color>
	</template>	

	<window name='ComBot_Miner'>
		<Visible>1</Visible>
		<BackGroundColor></BackGroundColor>
		<Border>0</Border>
		<X>200</X>
		<Y>300</Y>
		<Width>800</Width>
		<Height>600</Height>
		<TitleBar>
			<Width>100%</Width>
			<Height>20</Height>
			<Border>0</Border>
			<BackgroundColor>FF000000</BackgroundColor>
			<Children>
				<Text name='ComBot_Miner_TitleBar_Title'>
					<X>0</X>
					<Y>3</Y>
					<Width>100%</Width>
					<Height>20</Height>
					<Alignment>Center</Alignment>
					<Text>Miner Configuration</Text>
				</Text>
				<button	Name='Close'>
					<X>r40</X>
					<Y>0</Y>
					<Width>40</Width>
					<Height>20</Height>
					<Text>Close</Text>
					<OnLeftClick>
						ui -unload "&filepath;/ComBotGUI_Miner"
					</OnLeftClick>
				</button>
			</Children>
		</TitleBar>
		<Children name="ComBot_Miner_Children">
			<Frame name="ComBot_Miner_Frame">
				<X>0</X>
				<Y>5</Y>
				<Width>100%</Width>
				<Height>100%</Height>
				<BackgroundColor>FF000000</BackgroundColor>
				<Border>1</Border>
				<BorderColor>FFFFFFFF</BorderColor>
				<Children name="ComBot_Miner_Frame_Children">
					<Text name='obj_MinerInformation'> 
						<Font template='Information.Font' />
						<X>1%</X> 
						<Y>1%</Y> 
						<Width>98%</Width> 
						<Height>18%</Height> 
						<Wrap />
						<Text></Text>
					</Text>						 
					<Text name='obj_Miner_MiningSystemTitle'> 
						<X>1%</X> 
						<Y>60%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Mining System Bookmark</Text>
					</Text>						 
					<listbox Name="obj_Miner_MiningSystem">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>1%</X>
						<Y>62%</Y>
						<Width>36%</Width>
						<Height>20%</Height>
						<OnLoad>
							variable index:bookmark Bookmarks
							variable iterator BookmarkIterator

							EVE:GetBookmarks[Bookmarks]
							Bookmarks:GetIterator[BookmarkIterator]

							if ${BookmarkIterator:First(exists)}
								do
								{	
									This:AddItem[${BookmarkIterator.Value.Label}]
								}
								while ${BookmarkIterator:Next(exists)}
							This.ItemByText[${Script[ComBot].VariableScope.Config.Miner.MiningSystem}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Miner:SetMiningSystem[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					<Checkbox name='obj_MinerUseBookmarks'>
						<X>1%</X>
						<Y>84%</Y>
						<Width>20%</Width> 
						<Height>20</Height> 
						<Text>Use belt bookmarks</Text>
						<OnLoad>
							if ${Script[ComBot].VariableScope.Config.Miner.UseBookmarks}
							{
								This:SetChecked
							}
						</OnLoad>
						<OnLeftClick>
							Script[ComBot].VariableScope.Config.Miner:SetUseBookmarks[${This.Checked}]
						</OnLeftClick>
					</Checkbox>
					<Checkbox name='obj_MinerAlwaysShieldBoost'>
						<X>1%</X>
						<Y>96%</Y>
						<Width>20%</Width> 
						<Height>20</Height> 
						<Text>Always Shield Boost</Text>
						<OnLoad>
							if ${Script[ComBot].VariableScope.Config.Miner.AlwaysShieldBoost}
							{
								This:SetChecked
							}
						</OnLoad>
						<OnLeftClick>
							Script[ComBot].VariableScope.Config.Miner:SetAlwaysShieldBoost[${This.Checked}]
						</OnLeftClick>
					</Checkbox>
					<Text name='obj_MinerOrePrefixTitle'>
						<X>1%</X>
						<Y>88%</Y>
						<Width>20%</Width> 
						<Height>2%</Height> 
						<Text>Belt Prefix:</Text>
					</Text>
					<Textentry name='obj_MinerOrePrefix'>
						<X>17%</X>
						<Y>88%</Y>
						<Width>20%</Width> 
						<Height>3%</Height> 
						<OnLoad>
							This:SetText[${Script[ComBot].VariableScope.Config.Miner.BeltPrefix}]
						</OnLoad>
						<OnChange>
							if ${This.Text.Length} > 0
							{
								Script[ComBot].VariableScope.Config.Miner:SetBeltPrefix[${This.Text}]
							}
						</OnChange>
					</Textentry>
					<Text name='obj_MinerIcePrefixTitle'>
						<X>1%</X>
						<Y>92%</Y>
						<Width>20%</Width> 
						<Height>2%</Height> 
						<Text>Ice Belt Prefix:</Text>
					</Text>
					<Textentry name='obj_MinerIcePrefix'>
						<X>17%</X>
						<Y>92%</Y>
						<Width>20%</Width> 
						<Height>3%</Height> 
						<OnLoad>
							This:SetText[${Script[ComBot].VariableScope.Config.Miner.IceBeltPrefix}]
						</OnLoad>
						<OnChange>
							if ${This.Text.Length} > 0
							{
								Script[ComBot].VariableScope.Config.Miner:SetIceBeltPrefix[${This.Text}]
							}
						</OnChange>
					</Textentry>
					
					<Text name='obj_MinerDropoffBookmarkTitle'> 
						<X>1%</X> 
						<Y>28%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Dropoff Bookmark</Text>
					</Text>
					<listbox Name="obj_MinerDropoffBookmark">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>1%</X>
						<Y>30%</Y>
						<Width>36%</Width>
						<Height>20%</Height>
						<OnLoad>
							variable index:bookmark Bookmarks
							variable iterator BookmarkIterator

							EVE:GetBookmarks[Bookmarks]
							Bookmarks:GetIterator[BookmarkIterator]

							if ${BookmarkIterator:First(exists)}
								do
								{	
									This:AddItem[${BookmarkIterator.Value.Label}]
								}
								while ${BookmarkIterator:Next(exists)}
							This.ItemByText[${Script[ComBot].VariableScope.Config.Miner.Miner_Dropoff}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Miner:SetMiner_Dropoff[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					<Text name='obj_MinerOrcaNameTitle'> 
						<X>1%</X> 
						<Y>51%</Y> 
						<Width>36%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Orca Name</Text>
					</Text>
					<TextEntry name='obj_MinerOrcaName'> 
						<X>1%</X> 
						<Y>53%</Y> 
						<Width>36%</Width> 
						<Height>3%</Height> 
						<OnLoad>
							This:SetText[${Script[ComBot].VariableScope.Config.Miner.Miner_OrcaName}]
						</OnLoad>
						<OnChange>
							if ${This.Text.Length} > 0
							{
								Script[ComBot].VariableScope.Config.Miner:SetMiner_OrcaName[${This.Text}]
							}
						</OnChange>
					</TextEntry>

					<Text name='obj_MinerDropoffBookmarkTypeTitle'> 
						<X>38%</X> 
						<Y>28%</Y> 
						<Width>20%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Dropoff Type</Text>
					</Text>
					<listbox Name="obj_MinerDropoffBookmarkType">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>38%</X>
						<Y>30%</Y>
						<Width>30%</Width>
						<Height>26%</Height>
						<Items>
							<Item>Personal Hangar</Item>
							<Item>Orca</Item>
							<Item>No Dropoff</Item>
							<Item>Corporation Folder 1</Item>
							<Item>Corporation Folder 2</Item>
							<Item>Corporation Folder 3</Item>
							<Item>Corporation Folder 4</Item>
							<Item>Corporation Folder 5</Item>
							<Item>Corporation Folder 6</Item>
							<Item>Corporation Folder 7</Item>
						</Items>
						<OnLoad>
							This.ItemByText[${Script[ComBot].VariableScope.Config.Miner.Miner_Dropoff_Type}]:Select
						</OnLoad>
						<OnSelect>
							Script[ComBot].VariableScope.Config.Miner:SetMiner_Dropoff_Type[${This.SelectedItem.Text}]
						</OnSelect>
					</listbox>
					<Text name='obj_MinerOrePriorityTitle'> 
						<X>69%</X> 
						<Y>28%</Y> 
						<Width>30%</Width> 
						<Height>2%</Height> 
						<Alignment>Center</Alignment>
						<Text>Ore/Ice Priority</Text>
					</Text>
					<listbox Name="obj_MinerOrePriority">
						<BackgroundColor>FF000000</BackgroundColor>
						<Border>1</Border>
						<BorderColor>FFFFFFFF</BorderColor>
						<X>69%</X>
						<Y>30%</Y>
						<Width>30%</Width>
						<Height>40%</Height>
						<SelectMultiple>1</SelectMultiple>
						<Sort>User</Sort>
						<OnLeftClick>
							variable settingsetref Ores
							variable int counter
							variable collection:bool selected

							if ${UIElement[obj_MinerIceMining@@ComBot_Miner_Frame@ComBot_Miner].Checked}
							{
								Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[ICE_Types]}]
								Ores:Clear
								for ( counter:Set[1] ; ${counter} &lt;= ${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].SelectedItems} ; counter:Inc )
								{
									selected:Set[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].SelectedItem[${counter}]},TRUE]
								}
								for ( counter:Set[1] ; ${counter} &lt;= ${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items} ; counter:Inc )
								{
									if ${selected[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].OrderedItem[${counter}]}]}
										Ores:AddSetting[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].OrderedItem[${counter}]},1]
								}							
							}
							else
							{
								Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[Ore_Types]}]
								Ores:Clear
								for ( counter:Set[1] ; ${counter} &lt;= ${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].SelectedItems} ; counter:Inc )
								{
									selected:Set[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].SelectedItem[${counter}]},TRUE]
								}
								for ( counter:Set[1] ; ${counter} &lt;= ${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items} ; counter:Inc )
								{
									if ${selected[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].OrderedItem[${counter}]}]}
										switch ${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].OrderedItem[${counter}]}
										{
											case Mercoxit
											Ores:AddSetting[Vitreous Mercoxit,1]
											Ores:AddSetting[Magma Mercoxit,1]
											Ores:AddSetting[Mercoxit,1]
											break
											case Arkonor
											Ores:AddSetting[Prime Arkonor,1]
											Ores:AddSetting[Crimson Arkonor,1]
											Ores:AddSetting[Arkonor,1]
											break
											case Bistot
											Ores:AddSetting[Monoclinic Bistot,1]
											Ores:AddSetting[Triclinic Bistot,1]
											Ores:AddSetting[Bistot,1]
											break
											case Crokite
											Ores:AddSetting[Crystalline Crokite,1]
											Ores:AddSetting[Sharp Crokite,1]
											Ores:AddSetting[Crokite,1]
											break
											case Spodumain
											Ores:AddSetting[Gleaming Spodumain,1]
											Ores:AddSetting[Bright Spodumain,1]
											Ores:AddSetting[Spodumain,1]
											break
											case Dark Ochre
											Ores:AddSetting[Obsidian Ochre,1]
											Ores:AddSetting[Onyx Ochre,1]
											Ores:AddSetting[Dark Ochre,1]
											break
											case Gneiss
											Ores:AddSetting[Prismatic Gneiss,1]
											Ores:AddSetting[Iridescent Gneiss,1]
											Ores:AddSetting[Gneiss,1]
											break
											case Hedbergite
											Ores:AddSetting[Glazed Hedbergite,1]
											Ores:AddSetting[Vitric Hedbergite,1]
											Ores:AddSetting[Hedbergite,1]
											break
											case Hemorphite
											Ores:AddSetting[Radiant Hemorphite,1]
											Ores:AddSetting[Vivid Hemorphite,1]
											Ores:AddSetting[Hemorphite,1]
											break
											case Jaspet
											Ores:AddSetting[Pristine Jaspet,1]
											Ores:AddSetting[Pure Jaspet,1]
											Ores:AddSetting[Jaspet,1]
											break
											case Kernite
											Ores:AddSetting[Fiery Kernite,1]
											Ores:AddSetting[Luminous Kernite,1]
											Ores:AddSetting[Kernite,1]
											break
											case Omber
											Ores:AddSetting[Golden Omber,1]
											Ores:AddSetting[Silvery Omber,1]
											Ores:AddSetting[Omber,1]
											break
											case Plagioclase
											Ores:AddSetting[Rich Plagioclase,1]
											Ores:AddSetting[Azure Plagioclase,1]
											Ores:AddSetting[Plagioclase,1]
											break
											case Pyroxeres
											Ores:AddSetting[Viscous Pyroxeres,1]
											Ores:AddSetting[Solid Pyroxeres,1]
											Ores:AddSetting[Pyroxeres,1]
											break
											case Scordite
											Ores:AddSetting[Massive Scordite,1]
											Ores:AddSetting[Condensed Scordite,1]
											Ores:AddSetting[Scordite,1]
											break
											case Veldspar
											Ores:AddSetting[Dense Veldspar,1]
											Ores:AddSetting[Concentrated Veldspar,1]
											Ores:AddSetting[Veldspar,1]
											break
										}
								}
							}
						</OnLeftClick>
					</listbox>
					<Checkbox name='obj_MinerIceMining'>
						<X>69%</X>
						<Y>70%</Y>
						<Width>30%</Width> 
						<Height>20</Height> 
						<Text>Ice Mining</Text>
							<OnLoad>
								variable int count
								variable settingsetref Ores

								if ${Script[ComBot].VariableScope.Config.Miner.IceMining}
								{
									This:SetChecked
								}
								
								if ${This.Checked}
								{
									variable collection:bool MineOre
									variable iterator iter
									Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[ICE_Types]}]
									if ${Ores(exists)}
									{
										variable int iceupdated[12]
										Ores:GetSettingIterator[iter]
										if ${iter:First(exists)}
										{
											do
											{
												MineOre:Set[${iter.Value.Name},TRUE]
												switch ${iter.Value.Name}
												{
												case Dark Glitter
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Dark Glitter]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Gelidus
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Gelidus]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Glare Crust
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Glare Crust]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Krystallos
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Krystallos]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Clear Icicle
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Clear Icicle]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Smooth Glacial Mass
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Smooth Glacial Mass]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Glacial Mass
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Glacial Mass]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Pristine White Glaze
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Pristine White Glaze]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case White Glaze
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[White Glaze]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Thick Blue Ice
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Thick Blue Ice]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Enriched Clear Icicle
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Enriched Clear Icicle]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Blue Ice
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Blue Ice]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
													
												default
													break
												}
											}
											while ${iter:Next(exists)}
										}
										variable string IceTypes="Dark Glitter,Gelidus,Glare Crust,Krystallos,Clear Icicle,Smooth Glacial Mass,Glacial Mass,Pristine White Glaze,White Glaze,Thick Blue Ice,Enriched Clear Icicle,Blue Ice"
										for ( count:Set[1] ; ${count} &lt;= 12 ; count:Inc )
										{
											if !${MineOre[${Arg[${count},${IceTypes}]}](exists)}
											{
												UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[${Arg[${count},${IceTypes}]}]
											}
										}
									}									
								}
								else
								{
									Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[Ore_Types]}]
									if ${Ores(exists)}
									{
										Ores:GetSettingIterator[iter]
										if ${iter:First(exists)}
										{
											do
											{
												MineOre:Set[${iter.Value.Name},TRUE]
												switch ${iter.Value.Name}
												{
												case Mercoxit
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Mercoxit]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Arkonor
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Arkonor]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Bistot
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Bistot]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Crokite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Crokite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Spodumain
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Spodumain]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Dark Ochre
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Dark Ochre]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Gneiss
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Gneiss]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Hedbergite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Hedbergite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Hemorphite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Hemorphite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Jaspet
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Jaspet]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Kernite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Kernite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Omber
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Omber]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Plagioclase
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Plagioclase]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Pyroxeres
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Pyroxeres]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Scordite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Scordite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Veldspar
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Veldspar]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												default
													break
												}
											}
											while ${iter:Next(exists)}
										}
										variable string OreTypes="Mercoxit,Arkonor,Bistot,Crokite,Spodumain,Dark Ochre,Gneiss,Hedbergite,Hemorphite,Jaspet,Pyroxeres,Kernite,Plagioclase,Omber,Scordite,Veldspar"
										for ( count:Set[1] ; ${count} &lt;= 16 ; count:Inc )
										{
											if !${MineOre[${Arg[${count},${OreTypes}]}](exists)}
											{
												UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[${Arg[${count},${OreTypes}]}]
											}
										}
									}
								}								
							</OnLoad>
							<OnLeftClick>
								Script[ComBot].VariableScope.Config.Miner:SetIceMining[${This.Checked}]
								UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:ClearItems

								variable int count
								variable settingsetref Ores
								variable collection:bool MineOre
								variable iterator iter

								if ${This.Checked}
								{
									Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[ICE_Types]}]
									if ${Ores(exists)}
									{
										Ores:GetSettingIterator[iter]
										if ${iter:First(exists)}
										{
											do
											{
												MineOre:Set[${iter.Value.Name},TRUE]
												switch ${iter.Value.Name}
												{
												case Dark Glitter
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Dark Glitter]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Gelidus
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Gelidus]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Glare Crust
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Glare Crust]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Krystallos
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Krystallos]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Clear Icicle
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Clear Icicle]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Smooth Glacial Mass
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Smooth Glacial Mass]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Glacial Mass
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Glacial Mass]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Pristine White Glaze
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Pristine White Glaze]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case White Glaze
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[White Glaze]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Thick Blue Ice
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Thick Blue Ice]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Enriched Clear Icicle
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Enriched Clear Icicle]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Blue Ice
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Blue Ice]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
													
												default
													break
												}
											}
											while ${iter:Next(exists)}
										}
										variable string IceTypes="Dark Glitter,Gelidus,Glare Crust,Krystallos,Clear Icicle,Smooth Glacial Mass,Glacial Mass,Pristine White Glaze,White Glaze,Thick Blue Ice,Enriched Clear Icicle,Blue Ice"
										for ( count:Set[1] ; ${count} &lt;= 12 ; count:Inc )
										{
											if !${MineOre[${Arg[${count},${IceTypes}]}](exists)}
											{
												UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[${Arg[${count},${IceTypes}]}]
											}
										}
									}									
								}
								else
								{
									Ores:Set[${LavishSettings[ComBotSettings].FindSet[${Me.Name}].FindSet[Miner].FindSet[Ore_Types]}]
									if ${Ores(exists)}
									{
										Ores:GetSettingIterator[iter]
										if ${iter:First(exists)}
										{
											do
											{
												MineOre:Set[${iter.Value.Name},TRUE]
												switch ${iter.Value.Name}
												{
												case Mercoxit
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Mercoxit]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Arkonor
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Arkonor]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Bistot
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Bistot]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Crokite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Crokite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Spodumain
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Spodumain]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Dark Ochre
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Dark Ochre]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Gneiss
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Gneiss]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Hedbergite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Hedbergite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Hemorphite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Hemorphite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Jaspet
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Jaspet]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Kernite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Kernite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Omber
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Omber]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Plagioclase
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Plagioclase]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Pyroxeres
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Pyroxeres]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Scordite
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Scordite]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												case Veldspar
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[Veldspar]
													UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Item[${UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner].Items}]:Select
													break
												default
													break
												}
											}
											while ${iter:Next(exists)}
										}
										variable string OreTypes="Mercoxit,Arkonor,Bistot,Crokite,Spodumain,Dark Ochre,Gneiss,Hedbergite,Hemorphite,Jaspet,Pyroxeres,Kernite,Plagioclase,Omber,Scordite,Veldspar"
										for ( count:Set[1] ; ${count} &lt;= 16 ; count:Inc )
										{
											if !${MineOre[${Arg[${count},${OreTypes}]}](exists)}
											{
												UIElement[obj_MinerOrePriority@ComBot_Miner_Frame@ComBot_Miner]:AddItem[${Arg[${count},${OreTypes}]}]
											}
										}
									}
								}
							Script[ComBot].VariableScope.Miner:PopulateTargetList
							</OnLeftClick>
					</Checkbox>
					
				</Children>
			</Frame>
		</Children>
	</window>
	
</ISUI>
